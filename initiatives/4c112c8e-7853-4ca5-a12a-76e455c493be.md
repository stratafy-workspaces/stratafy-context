---
id: 4c112c8e-7853-4ca5-a12a-76e455c493be
type: initiative
status: in_progress
priority: high
strategy: Role-Aware Strategic Intelligence
completionPercentage: 0
lastUpdated: 2026-02-03T06:04:11.56+00:00
owner: af04d126-d28a-43a7-be8b-0c9451873f1b
---

# Agent Registry & Context Packaging

## Description
Unified system for registering AI agents and packaging role-aware strategic context. Merges Context Packaging Engine scope.

**COMPONENTS:**

1. **Prompt Templates** (`ws_context_prompt_templates`) — Role-aware templates defining what context each consumer type gets

2. **Agent Registry** (`ws_agent_registry`) — Registered agents with role, permissions, API keys, cached context, staleness status

3. **Context Generation Service** — Template + workspace data → packaged context. Links to strategy versions for audit

4. **Refresh Triggers** — Auto-regeneration on: prompt template updates, strategy publishes

5. **MCP Tools** — Full agent lifecycle management

**OVERRIDE PATTERN:**

Agents can use template, override, or both:
- `prompt_template_id` (nullable) — base template
- `prompt_override` (text) — agent-specific additions
- `override_mode` (append | prepend | replace)

**MCP TOOLS:**

Agent management: `create_agent`, `update_agent`, `list_agents`, `get_agent`, `get_agent_context`, `revoke_agent`, `refresh_agent_context`

Template management: `list_prompt_templates`, `get_prompt_template`, `update_prompt_template`

**SUCCESS CRITERIA:**
- Register Chief of Staff via MCP with founder role + custom override
- Context auto-refreshes on strategy publish
- Audit trail links context to strategy version + template version

## Parent Strategy
[Role-Aware Strategic Intelligence](../strategy/functional/7cf32226-ec43-4a7d-bd4f-06c8b0a9f4b3.md)

## Status & Progress
- **Status**: in progress
- **Priority**: high
- **Completion**: 0%

## Key Objectives
No objectives defined

## Timeline
- **Start Date**: 2026-02-03
- **Target Date**: 2026-02-28

## Content
No content available
